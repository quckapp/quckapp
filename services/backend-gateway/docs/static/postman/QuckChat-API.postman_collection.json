{
  "info": {
    "_postman_id": "quckchat-api-collection",
    "name": "QuckChat API",
    "description": "Complete API collection for QuckChat - Real-time messaging platform with audio/video calling",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{accessToken}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000/api/v1",
      "type": "string"
    },
    {
      "key": "accessToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "refreshToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "phoneNumber",
      "value": "+1234567890",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    },
    {
      "key": "conversationId",
      "value": "",
      "type": "string"
    },
    {
      "key": "messageId",
      "value": "",
      "type": "string"
    },
    {
      "key": "callId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Auth",
      "description": "Authentication and authorization endpoints",
      "item": [
        {
          "name": "Send OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phoneNumber\": \"{{phoneNumber}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/send-otp",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "send-otp"]
            },
            "description": "Send OTP code to phone number for verification"
          }
        },
        {
          "name": "Verify OTP",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "if (jsonData.accessToken) {",
                  "    pm.collectionVariables.set('accessToken', jsonData.accessToken);",
                  "}",
                  "if (jsonData.refreshToken) {",
                  "    pm.collectionVariables.set('refreshToken', jsonData.refreshToken);",
                  "}",
                  "if (jsonData.user && jsonData.user._id) {",
                  "    pm.collectionVariables.set('userId', jsonData.user._id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phoneNumber\": \"{{phoneNumber}}\",\n  \"code\": \"123456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/verify-otp",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "verify-otp"]
            },
            "description": "Verify OTP code and receive JWT tokens"
          }
        },
        {
          "name": "Refresh Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "if (jsonData.accessToken) {",
                  "    pm.collectionVariables.set('accessToken', jsonData.accessToken);",
                  "}",
                  "if (jsonData.refreshToken) {",
                  "    pm.collectionVariables.set('refreshToken', jsonData.refreshToken);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/refresh",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "refresh"]
            },
            "description": "Get new access token using refresh token"
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auth/logout",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "logout"]
            },
            "description": "Logout and invalidate current session"
          }
        },
        {
          "name": "Get Sessions",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auth/sessions",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "sessions"]
            },
            "description": "Get all active login sessions"
          }
        },
        {
          "name": "Terminate Session",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auth/sessions/:sessionId",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "sessions", ":sessionId"],
              "variable": [
                {
                  "key": "sessionId",
                  "value": "session-id-here"
                }
              ]
            },
            "description": "Terminate a specific session"
          }
        },
        {
          "name": "Setup 2FA",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auth/2fa/setup",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "2fa", "setup"]
            },
            "description": "Initialize two-factor authentication"
          }
        },
        {
          "name": "Enable 2FA",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"code\": \"123456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/2fa/enable",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "2fa", "enable"]
            },
            "description": "Enable 2FA after verifying setup code"
          }
        }
      ]
    },
    {
      "name": "Users",
      "description": "User profile management",
      "item": [
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/me",
              "host": ["{{baseUrl}}"],
              "path": ["users", "me"]
            },
            "description": "Get authenticated user's profile"
          }
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"displayName\": \"John Doe\",\n  \"bio\": \"Hello, I'm using QuckChat!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/me",
              "host": ["{{baseUrl}}"],
              "path": ["users", "me"]
            },
            "description": "Update authenticated user's profile"
          }
        },
        {
          "name": "Search Users",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/search?q=john&page=1&limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["users", "search"],
              "query": [
                { "key": "q", "value": "john" },
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "20" }
              ]
            },
            "description": "Search users by name or phone number"
          }
        },
        {
          "name": "Get User by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/:userId",
              "host": ["{{baseUrl}}"],
              "path": ["users", ":userId"],
              "variable": [
                {
                  "key": "userId",
                  "value": "{{userId}}"
                }
              ]
            },
            "description": "Get a user's public profile"
          }
        },
        {
          "name": "Update Status",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"available\",\n  \"statusMessage\": \"At work\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/me/status",
              "host": ["{{baseUrl}}"],
              "path": ["users", "me", "status"]
            },
            "description": "Update user status"
          }
        },
        {
          "name": "Get Linked Devices",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/me/linked-devices",
              "host": ["{{baseUrl}}"],
              "path": ["users", "me", "linked-devices"]
            },
            "description": "Get all linked devices"
          }
        }
      ]
    },
    {
      "name": "Conversations",
      "description": "Chat conversation management",
      "item": [
        {
          "name": "Get Conversations",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/conversations?page=1&limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["conversations"],
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "20" }
              ]
            },
            "description": "Get all conversations for the user"
          }
        },
        {
          "name": "Create Private Conversation",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "if (jsonData._id) {",
                  "    pm.collectionVariables.set('conversationId', jsonData._id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"single\",\n  \"participants\": [\"recipient-user-id\"]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/conversations",
              "host": ["{{baseUrl}}"],
              "path": ["conversations"]
            },
            "description": "Create a private 1-on-1 conversation"
          }
        },
        {
          "name": "Create Group Conversation",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "if (jsonData._id) {",
                  "    pm.collectionVariables.set('conversationId', jsonData._id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"group\",\n  \"name\": \"My Group\",\n  \"participants\": [\"user-id-1\", \"user-id-2\"]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/conversations",
              "host": ["{{baseUrl}}"],
              "path": ["conversations"]
            },
            "description": "Create a group conversation"
          }
        },
        {
          "name": "Get Conversation",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/conversations/{{conversationId}}",
              "host": ["{{baseUrl}}"],
              "path": ["conversations", "{{conversationId}}"]
            },
            "description": "Get conversation details"
          }
        },
        {
          "name": "Update Conversation",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Group Name\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/conversations/{{conversationId}}",
              "host": ["{{baseUrl}}"],
              "path": ["conversations", "{{conversationId}}"]
            },
            "description": "Update conversation settings"
          }
        },
        {
          "name": "Add Members",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userIds\": [\"new-user-id\"]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/conversations/{{conversationId}}/members",
              "host": ["{{baseUrl}}"],
              "path": ["conversations", "{{conversationId}}", "members"]
            },
            "description": "Add members to a group conversation"
          }
        },
        {
          "name": "Remove Member",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/conversations/{{conversationId}}/members/:userId",
              "host": ["{{baseUrl}}"],
              "path": ["conversations", "{{conversationId}}", "members", ":userId"],
              "variable": [
                {
                  "key": "userId",
                  "value": "user-id-to-remove"
                }
              ]
            },
            "description": "Remove a member from a group conversation"
          }
        },
        {
          "name": "Mark All as Read",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/conversations/read-all",
              "host": ["{{baseUrl}}"],
              "path": ["conversations", "read-all"]
            },
            "description": "Mark all conversations as read"
          }
        }
      ]
    },
    {
      "name": "Messages",
      "description": "Messaging operations",
      "item": [
        {
          "name": "Get Messages",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/messages/conversation/{{conversationId}}?page=1&limit=50",
              "host": ["{{baseUrl}}"],
              "path": ["messages", "conversation", "{{conversationId}}"],
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "50" }
              ]
            },
            "description": "Get messages from a conversation"
          }
        },
        {
          "name": "Get Message by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/messages/{{messageId}}",
              "host": ["{{baseUrl}}"],
              "path": ["messages", "{{messageId}}"]
            },
            "description": "Get a specific message"
          }
        },
        {
          "name": "Edit Message",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"content\": \"Updated message content\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/messages/{{messageId}}",
              "host": ["{{baseUrl}}"],
              "path": ["messages", "{{messageId}}"]
            },
            "description": "Edit a message"
          }
        },
        {
          "name": "Delete Message",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/messages/{{messageId}}",
              "host": ["{{baseUrl}}"],
              "path": ["messages", "{{messageId}}"]
            },
            "description": "Delete a message"
          }
        },
        {
          "name": "Add Reaction",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"emoji\": \"üëç\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/messages/{{messageId}}/reactions",
              "host": ["{{baseUrl}}"],
              "path": ["messages", "{{messageId}}", "reactions"]
            },
            "description": "Add a reaction to a message"
          }
        },
        {
          "name": "Remove Reaction",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/messages/{{messageId}}/reactions/:emoji",
              "host": ["{{baseUrl}}"],
              "path": ["messages", "{{messageId}}", "reactions", ":emoji"],
              "variable": [
                {
                  "key": "emoji",
                  "value": "üëç"
                }
              ]
            },
            "description": "Remove a reaction from a message"
          }
        },
        {
          "name": "Mark as Read",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/messages/{{messageId}}/read",
              "host": ["{{baseUrl}}"],
              "path": ["messages", "{{messageId}}", "read"]
            },
            "description": "Mark a message as read"
          }
        },
        {
          "name": "Search Messages",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/messages/search/query?q=hello&page=1&limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["messages", "search", "query"],
              "query": [
                { "key": "q", "value": "hello" },
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "20" }
              ]
            },
            "description": "Search messages by content"
          }
        }
      ]
    },
    {
      "name": "Calls",
      "description": "Voice and video call operations",
      "item": [
        {
          "name": "Initiate Call",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "if (jsonData._id) {",
                  "    pm.collectionVariables.set('callId', jsonData._id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"conversationId\": \"{{conversationId}}\",\n  \"type\": \"audio\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/calls",
              "host": ["{{baseUrl}}"],
              "path": ["calls"]
            },
            "description": "Start a voice or video call"
          }
        },
        {
          "name": "Get Call Details",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/calls/{{callId}}",
              "host": ["{{baseUrl}}"],
              "path": ["calls", "{{callId}}"]
            },
            "description": "Get details of a specific call"
          }
        },
        {
          "name": "Answer Call",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/calls/{{callId}}/answer",
              "host": ["{{baseUrl}}"],
              "path": ["calls", "{{callId}}", "answer"]
            },
            "description": "Answer an incoming call"
          }
        },
        {
          "name": "Reject Call",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/calls/{{callId}}/reject",
              "host": ["{{baseUrl}}"],
              "path": ["calls", "{{callId}}", "reject"]
            },
            "description": "Reject an incoming call"
          }
        },
        {
          "name": "End Call",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/calls/{{callId}}/end",
              "host": ["{{baseUrl}}"],
              "path": ["calls", "{{callId}}", "end"]
            },
            "description": "End an active call"
          }
        },
        {
          "name": "Get Call History",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/calls/history/{{conversationId}}?page=1&limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["calls", "history", "{{conversationId}}"],
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "20" }
              ]
            },
            "description": "Get call history for a conversation"
          }
        }
      ]
    },
    {
      "name": "Upload",
      "description": "File upload operations",
      "item": [
        {
          "name": "Upload Image",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": ""
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/upload/image",
              "host": ["{{baseUrl}}"],
              "path": ["upload", "image"]
            },
            "description": "Upload an image file"
          }
        },
        {
          "name": "Upload Video",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": ""
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/upload/video",
              "host": ["{{baseUrl}}"],
              "path": ["upload", "video"]
            },
            "description": "Upload a video file"
          }
        },
        {
          "name": "Upload Audio",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": ""
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/upload/audio",
              "host": ["{{baseUrl}}"],
              "path": ["upload", "audio"]
            },
            "description": "Upload an audio file"
          }
        },
        {
          "name": "Upload File",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": ""
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/upload/file",
              "host": ["{{baseUrl}}"],
              "path": ["upload", "file"]
            },
            "description": "Upload a generic file"
          }
        }
      ]
    },
    {
      "name": "Health",
      "description": "Health check endpoints",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": ["{{baseUrl}}"],
              "path": ["health"]
            },
            "description": "Check application health status"
          }
        }
      ]
    }
  ]
}
