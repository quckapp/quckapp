# QuikApp QA Environment Values
# Usage: helm install quikapp ./quikapp -f values-qa.yaml

global:
  environment: qa
  imagePullPolicy: Always
  namespace: quikapp-qa
  domain: qa.quikapp.io
  tlsEnabled: true
  tlsSecretName: quikapp-qa-tls

  # QA resources (slightly more than dev)
  resources:
    requests:
      cpu: 75m
      memory: 96Mi
    limits:
      cpu: 300m
      memory: 384Mi

  # Debug logging for QA testing
  logging:
    level: debug
    format: json

  # Full tracing for QA debugging
  tracing:
    enabled: true
    samplingRatio: 1.0

# 2 replicas for most services in QA
backendGateway:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 4
    targetCPUUtilizationPercentage: 80

notificationService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

realtimeService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 5

authService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

userService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

permissionService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

auditService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

adminService:
  replicaCount: 1
  autoscaling:
    enabled: false

presenceService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 4

messageService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 5

callService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

notificationOrchestrator:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

huddleService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

eventBroadcastService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

workspaceService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

channelService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

threadService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

searchService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

fileService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

mediaService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

bookmarkService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

reminderService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

attachmentService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

cdnService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 4

analyticsService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

mlService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

moderationService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

exportService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

integrationService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

sentimentService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

insightsService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

smartReplyService:
  replicaCount: 2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 3

# Enable PDB in QA
podDisruptionBudget:
  enabled: true
  minAvailable: 1

# Enable network policies in QA
networkPolicies:
  enabled: true

# QA Infrastructure
infrastructure:
  enabled: true

  redis:
    master:
      persistence:
        size: 2Gi
      resources:
        requests:
          cpu: 75m
          memory: 96Mi
        limits:
          cpu: 150m
          memory: 192Mi

  mysql:
    primary:
      persistence:
        size: 10Gi
      resources:
        requests:
          cpu: 150m
          memory: 384Mi
        limits:
          cpu: 750m
          memory: 768Mi

  postgresql:
    primary:
      persistence:
        size: 10Gi
      resources:
        requests:
          cpu: 150m
          memory: 384Mi
        limits:
          cpu: 750m
          memory: 768Mi

  mongodb:
    persistence:
      size: 10Gi
    resources:
      requests:
        cpu: 150m
        memory: 384Mi
      limits:
        cpu: 750m
        memory: 768Mi

  kafka:
    persistence:
      size: 10Gi
    resources:
      requests:
        cpu: 150m
        memory: 384Mi
      limits:
        cpu: 750m
        memory: 768Mi

  elasticsearch:
    replicas: 1
    resources:
      requests:
        cpu: 300m
        memory: 768Mi
      limits:
        cpu: 750m
        memory: 1536Mi
    volumeClaimTemplate:
      resources:
        requests:
          storage: 20Gi

  minio:
    persistence:
      size: 20Gi
    resources:
      requests:
        cpu: 75m
        memory: 192Mi
      limits:
        cpu: 300m
        memory: 384Mi

# Enable monitoring in QA
monitoring:
  enabled: true
