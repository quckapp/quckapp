# =============================================================================
# QuikApp Production Environment - Example Variables
# =============================================================================
# Copy this file to prod.tfvars and customize for your environment.
#
# IMPORTANT: Never commit prod.tfvars with sensitive values to version control.
# Use Terraform Cloud, AWS Secrets Manager, or environment variables for secrets.
# =============================================================================

aws_region     = "us-east-1"
replica_region = "us-west-2"

# -----------------------------------------------------------------------------
# VPC Configuration
# -----------------------------------------------------------------------------

vpc_cidr                       = "10.0.0.0/16"
create_elasticache_subnets     = true
enable_eks                     = false
create_vpc_interface_endpoints = true

# -----------------------------------------------------------------------------
# CORS - Production domains only
# -----------------------------------------------------------------------------

cors_allowed_origins = [
  "https://app.quikapp.com",
  "https://www.quikapp.com"
]

# -----------------------------------------------------------------------------
# CloudFront / CDN
# -----------------------------------------------------------------------------

cdn_domain_aliases = [
  "cdn.quikapp.com"
]

# REQUIRED: ACM certificate ARN (must be in us-east-1)
# cdn_acm_certificate_arn = "arn:aws:acm:us-east-1:ACCOUNT_ID:certificate/CERT_ID"

waf_rate_limit        = 2000
waf_blocked_countries = []

# -----------------------------------------------------------------------------
# Replication
# -----------------------------------------------------------------------------

enable_replication = true

# -----------------------------------------------------------------------------
# Alert Notifications
# -----------------------------------------------------------------------------

alert_email_endpoints = [
  "ops@yourcompany.com"
]

dlq_alert_email_endpoints = [
  "dev@yourcompany.com"
]

# -----------------------------------------------------------------------------
# Cognito Authentication
# -----------------------------------------------------------------------------

cognito_mfa_configuration = "ON"

cognito_web_callback_urls = [
  "https://app.quikapp.com/callback"
]

cognito_web_logout_urls = [
  "https://app.quikapp.com"
]

cognito_mobile_callback_urls = [
  "quikapp://callback"
]

cognito_mobile_logout_urls = [
  "quikapp://logout"
]

# -----------------------------------------------------------------------------
# Database (Aurora PostgreSQL)
# -----------------------------------------------------------------------------

rds_engine         = "aurora-postgresql"
rds_engine_version = "16.3"
use_aurora         = true

rds_instance_class = "db.r6g.large"

aurora_autoscaling_enabled      = true
aurora_autoscaling_min_capacity = 1
aurora_autoscaling_max_capacity = 5

rds_backup_retention_period = 35

# -----------------------------------------------------------------------------
# ElastiCache (Redis)
# -----------------------------------------------------------------------------

enable_elasticache       = true
redis_version            = "7.1"
redis_node_type          = "cache.r6g.large"
redis_num_cache_clusters = 3

# -----------------------------------------------------------------------------
# DynamoDB
# -----------------------------------------------------------------------------

dynamodb_billing_mode   = "PAY_PER_REQUEST"
enable_dynamodb_streams = true
enable_global_tables    = false

# -----------------------------------------------------------------------------
# API Gateway
# -----------------------------------------------------------------------------

api_throttling_burst_limit = 5000
api_throttling_rate_limit  = 10000

# OPTIONAL: Custom domain
# api_custom_domain       = "api.quikapp.com"
# api_acm_certificate_arn = "arn:aws:acm:us-east-1:ACCOUNT_ID:certificate/CERT_ID"

# -----------------------------------------------------------------------------
# CI/CD
# -----------------------------------------------------------------------------

github_repo_pattern = "repo:YOUR_ORG/quikapp:*"

# -----------------------------------------------------------------------------
# Tags
# -----------------------------------------------------------------------------

tags = {
  Environment = "prod"
  Project     = "QuikApp"
  Team        = "Platform"
  CostCenter  = "Production"
}
